<!doctype html>
<html lang="en">
  <head>
  	<title>TI Administrador</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="icon" th:href="@{/images/TitanicShip.ico}">
	<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" th:href="@{css/style_home.css}">
	  <!--Load the AJAX API-->
	  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	  <script type="text/javascript" th:inline="javascript">

		  // Load the Visualization API and the corechart package.
		  google.charts.load('current', {'packages':['corechart']});

		  // Set a callback to run when the Google Visualization API is loaded.
		  google.charts.setOnLoadCallback(drawChart);

		  // Callback that creates and populates a data table,
		  // instantiates the pie chart, passes in the data and
		  // draws it.
		  function drawChart() {

			  // Create the data table.
			  var data = new google.visualization.DataTable();
			  data.addColumn('string', 'Producto');
			  data.addColumn('number', 'Ventas');
			  data.addRows([[${chartData}]]);

			  // Set chart options
			  var options = {'title':'Productos vendidos',
				  'width':400,
				  'height':300,
				  backgroundColor: '#FAFAFA'};

			  // Instantiate and draw our chart, passing in some options.
			  var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
			  chart.draw(data, options);
		  }
	  </script>
  </head>
  <body>
		
	<div class="wrapper d-flex align-items-stretch">
		<nav id="sidebar">
				<div class="p-4 pt-5">
		  		<a class="img logo rounded-circle mb-5" th:style="'background-image: url(images/logo.png)'"></a>
	        <ul class="list-unstyled components mb-5">
	          <li class="active">
	            <a th:href="@{admin}">Inicio</a>
	          </li>
	          <li>
	              <a th:href="@{admin_users}">Usuarios</a>
	          </li>
	          <li>
              <a th:href="@{admin_products}">Productos</a>
	          </li>
				<li>
					<a th:href="@{admin_sales}">Ventas</a>
				</li>
	        </ul>

	        <div class="footer">
	        	<p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
						  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | Titanic Inventory</a>
						  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
	        </div>

	      </div>
    	</nav>

        <!-- Page Content  -->
      	<div id="content" class="p-4">

			<nav>
			  <div class="container-fluid">
				<button type="button" id="sidebarCollapse" class="btn btn-primary float-left">
					<i class="fa fa-bars"></i>
					<span class="sr-only">Toggle Menu</span>
				</button>
				<a th:href="@{logout}" type="button" id="CerrarSesion" class="btn float-right">
					Cerrar sesión
				</a>
			  </div>
			</nav>

			<br/><br/><br/>
			<h2 class="mb-4">Página principal</h2>
			<div id="chart_div"></div>
		</div>
	</div>

    <script th:src="@{js/home_jquery.min.js}"></script>
    <script th:src="@{js/home_main.js}"></script>
  </body>
</html>